<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Vue 原理 | 前端面试派</title>
    <meta name="description" content="系统专业的前端面试导航，大厂面试规范，开源免费">
    <meta name="generator" content="VitePress v1.5.0">
    <link rel="preload stylesheet" href="/mianshi/assets/style.Dwb_TB2c.css" as="style">
    <link rel="preload stylesheet" href="/mianshi/vp-icons.css" as="style">
    
    <script type="module" src="/mianshi/assets/app.B6y3aIlz.js"></script>
    <link rel="preload" href="/mianshi/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/mianshi/assets/chunks/theme.DZt-l4XS.js">
    <link rel="modulepreload" href="/mianshi/assets/chunks/framework.CDk703ml.js">
    <link rel="modulepreload" href="/mianshi/assets/docs_second-exam_vue-inner.md.CV2Ezh75.lean.js">
    <link rel="icon" href="/favicon.ico">
    <meta name="author" content="双越老师">
    <meta name="keywords" content="前端, 面试, 前端面试, 面试题, 刷题, 面试流程, 前端面试流程, 面试准备, 简历, 前端简历, 开源, 免费, Javascript, Typescript, React, Vue, webpack, vite, HTTP, 算法">
    <script>var _hmt=_hmt||[];(function(){if(!(location.hostname.indexOf("mianshipai.com")<0)){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?b53b3c926f6f6f5be6a9ac7e0911622b";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}})();</script>
    <script>setTimeout(function(){},2e3);</script>
    <script>setTimeout(function(){const o=document.querySelector("header");if(o==null)return;o.style.top="25px";const e=document.createElement("div");e.style.backgroundColor="oklch(97.3% .071 103.193)",e.style.color="#333",e.style.height="25px",e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.zIndex="9999",e.style.lineHeight="25px",e.style.fontSize="13px";const n=document.createElement("div");n.innerHTML="\u524D\u7AEF\u5B66 Node \u5168\u6808\u548C AI \u5F00\u53D1\uFF0C\u53EF\u52A0\u5165\u3010\u5212\u6C34AI\u3011\u9879\u76EE\u7814\u53D1\u5C0F\u7EC4\u3002\u53CC\u8D8A\u8001\u5E08\u5F00\u53D1\uFF0C\u590D\u6742\u9879\u76EE\uFF0C\u771F\u5B9E\u4E0A\u7EBF\uFF0C\u6301\u7EED\u7EF4\u62A4\u5347\u7EA7\u3002\u5728\u6B64\u8FDB\u5165\u6709\u4F18\u60E0 &gt;&gt;",n.style.width="80%",n.style.textAlign="center",n.style.margin="0 auto",n.style.cursor="pointer",n.addEventListener("click",function(){window.open("https://www.huashuiai.com/join?from=\u524D\u7AEF\u9762\u8BD5\u6D3E","_blank")});const t=document.createElement("div");t.innerHTML="x",t.style.width="16px",t.style.textAlign="center",t.style.position="absolute",t.style.right="8px",t.style.top="0",t.style.cursor="pointer",t.addEventListener("click",function(l){l.stopPropagation(),e.parentNode.removeChild(e),o.style.top="0"}),e.appendChild(n),e.appendChild(t),o.parentNode.insertBefore(e,o)},1e3);</script>
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-d8b57b2d><!--[--><!--]--><!--[--><span tabindex="-1" data-v-c8291ffa></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-c8291ffa> Skip to content </a><!--]--><!----><header class="VPNav" data-v-d8b57b2d data-v-7ad780c2><div class="VPNavBar" data-v-7ad780c2 data-v-9fd4d1dd><div class="wrapper" data-v-9fd4d1dd><div class="container" data-v-9fd4d1dd><div class="title" data-v-9fd4d1dd><div class="VPNavBarTitle has-sidebar" data-v-9fd4d1dd data-v-9f43907a><a class="title" href="/mianshi/" data-v-9f43907a><!--[--><!--]--><!----><span data-v-9f43907a>前端面试派</span><!--[--><!--]--></a></div></div><div class="content" data-v-9fd4d1dd><div class="content-body" data-v-9fd4d1dd><!--[--><!--]--><div class="VPNavBarSearch search" data-v-9fd4d1dd><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-9fd4d1dd data-v-afb2845e><span id="main-nav-aria-label" class="visually-hidden" data-v-afb2845e> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/mianshi/docs/services/1v1.html" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>1v1 面试咨询 🔥</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/mianshi/docs/services/group.html" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>加群讨论答疑</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://github.com/mianshipai/mianshipai-web#%E8%B4%A1%E7%8C%AE%E9%A2%98%E7%9B%AE%E5%92%8C%E7%AD%94%E6%A1%88" target="_blank" rel="noreferrer" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>成为贡献者</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-9fd4d1dd data-v-3f90c1a5><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-3f90c1a5 data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-9fd4d1dd data-v-ef6192dc data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/mianshipai/mianshipai-web" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-9fd4d1dd data-v-f953d92f data-v-bfe7971f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-bfe7971f><span class="vpi-more-horizontal icon" data-v-bfe7971f></span></button><div class="menu" data-v-bfe7971f><div class="VPMenu" data-v-bfe7971f data-v-20ed86d6><!----><!--[--><!--[--><!----><div class="group" data-v-f953d92f><div class="item appearance" data-v-f953d92f><p class="label" data-v-f953d92f>Appearance</p><div class="appearance-action" data-v-f953d92f><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-f953d92f data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div></div></div><div class="group" data-v-f953d92f><div class="item social-links" data-v-f953d92f><div class="VPSocialLinks social-links-list" data-v-f953d92f data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/mianshipai/mianshipai-web" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-9fd4d1dd data-v-6bee1efd><span class="container" data-v-6bee1efd><span class="top" data-v-6bee1efd></span><span class="middle" data-v-6bee1efd></span><span class="bottom" data-v-6bee1efd></span></span></button></div></div></div></div><div class="divider" data-v-9fd4d1dd><div class="divider-line" data-v-9fd4d1dd></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-d8b57b2d data-v-2488c25a><div class="container" data-v-2488c25a><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-2488c25a><span class="vpi-align-left menu-icon" data-v-2488c25a></span><span class="menu-text" data-v-2488c25a>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-2488c25a data-v-883964e0><button data-v-883964e0>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-d8b57b2d data-v-42c4c606><div class="curtain" data-v-42c4c606></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-42c4c606><span class="visually-hidden" id="sidebar-aria-label" data-v-42c4c606> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0" data-v-51288d80 data-v-edd2eed8><div class="item" role="button" tabindex="0" data-v-edd2eed8><div class="indicator" data-v-edd2eed8></div><h2 class="text" data-v-edd2eed8>面试准备</h2><!----></div><div class="items" data-v-edd2eed8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-edd2eed8 data-v-edd2eed8><div class="item" data-v-edd2eed8><div class="indicator" data-v-edd2eed8></div><a class="VPLink link link" href="/mianshi/docs/before-interview/process.html" data-v-edd2eed8><!--[--><p class="text" data-v-edd2eed8>了解面试流程</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-edd2eed8 data-v-edd2eed8><div class="item" data-v-edd2eed8><div class="indicator" data-v-edd2eed8></div><a class="VPLink link link" href="/mianshi/docs/before-interview/jd.html" data-v-edd2eed8><!--[--><p class="text" data-v-edd2eed8>分析 JD 招聘要求</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-edd2eed8 data-v-edd2eed8><div class="item" data-v-edd2eed8><div class="indicator" data-v-edd2eed8></div><a class="VPLink link link" href="/mianshi/docs/before-interview/write-resume.html" data-v-edd2eed8><!--[--><p class="text" data-v-edd2eed8>正确写简历</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-edd2eed8 data-v-edd2eed8><div class="item" data-v-edd2eed8><div class="indicator" data-v-edd2eed8></div><a class="VPLink link link" href="/mianshi/docs/before-interview/post-resume.html" data-v-edd2eed8><!--[--><p class="text" data-v-edd2eed8>如何投递简历</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0" data-v-51288d80 data-v-edd2eed8><div class="item" role="button" tabindex="0" data-v-edd2eed8><div class="indicator" data-v-edd2eed8></div><h2 class="text" data-v-edd2eed8>笔试</h2><!----></div><div class="items" data-v-edd2eed8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-edd2eed8 data-v-edd2eed8><div class="item" data-v-edd2eed8><div class="indicator" data-v-edd2eed8></div><a class="VPLink link link" href="/mianshi/docs/written-exam/algorithm.html" data-v-edd2eed8><!--[--><p class="text" data-v-edd2eed8>数据结构和算法</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-edd2eed8 data-v-edd2eed8><div class="item" data-v-edd2eed8><div class="indicator" data-v-edd2eed8></div><a class="VPLink link link" href="/mianshi/docs/written-exam/JS-writing.html" data-v-edd2eed8><!--[--><p class="text" data-v-edd2eed8>JS 手写代码</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-edd2eed8 data-v-edd2eed8><div class="item" data-v-edd2eed8><div class="indicator" data-v-edd2eed8></div><a class="VPLink link link" href="/mianshi/docs/written-exam/JS-reading.html" data-v-edd2eed8><!--[--><p class="text" data-v-edd2eed8>JS 读代码</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0" data-v-51288d80 data-v-edd2eed8><div class="item" role="button" tabindex="0" data-v-edd2eed8><div class="indicator" data-v-edd2eed8></div><h2 class="text" data-v-edd2eed8>一面</h2><!----></div><div class="items" data-v-edd2eed8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-edd2eed8 data-v-edd2eed8><div class="item" data-v-edd2eed8><div class="indicator" data-v-edd2eed8></div><a class="VPLink link link" href="/mianshi/docs/first-exam/ComputerBase.html" data-v-edd2eed8><!--[--><p class="text" data-v-edd2eed8>计算机基础</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-edd2eed8 data-v-edd2eed8><div class="item" data-v-edd2eed8><div class="indicator" data-v-edd2eed8></div><a class="VPLink link link" href="/mianshi/docs/first-exam/HTML-CSS.html" data-v-edd2eed8><!--[--><p class="text" data-v-edd2eed8>HTML 和 CSS</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-edd2eed8 data-v-edd2eed8><div class="item" data-v-edd2eed8><div class="indicator" data-v-edd2eed8></div><a class="VPLink link link" href="/mianshi/docs/first-exam/JS.html" data-v-edd2eed8><!--[--><p class="text" data-v-edd2eed8>JS 基础知识</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-edd2eed8 data-v-edd2eed8><div class="item" data-v-edd2eed8><div class="indicator" data-v-edd2eed8></div><a class="VPLink link link" href="/mianshi/docs/first-exam/TS.html" data-v-edd2eed8><!--[--><p class="text" data-v-edd2eed8>TS 类型</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-edd2eed8 data-v-edd2eed8><div class="item" data-v-edd2eed8><div class="indicator" data-v-edd2eed8></div><a class="VPLink link link" href="/mianshi/docs/first-exam/HTTP.html" data-v-edd2eed8><!--[--><p class="text" data-v-edd2eed8>HTTP 网络请求</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 has-active" data-v-51288d80 data-v-edd2eed8><div class="item" role="button" tabindex="0" data-v-edd2eed8><div class="indicator" data-v-edd2eed8></div><h2 class="text" data-v-edd2eed8>二面</h2><!----></div><div class="items" data-v-edd2eed8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-edd2eed8 data-v-edd2eed8><div class="item" data-v-edd2eed8><div class="indicator" data-v-edd2eed8></div><a class="VPLink link link" href="/mianshi/docs/second-exam/vue-usage.html" data-v-edd2eed8><!--[--><p class="text" data-v-edd2eed8>Vue 使用</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-edd2eed8 data-v-edd2eed8><div class="item" data-v-edd2eed8><div class="indicator" data-v-edd2eed8></div><a class="VPLink link link" href="/mianshi/docs/second-exam/vue-inner.html" data-v-edd2eed8><!--[--><p class="text" data-v-edd2eed8>Vue 原理</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-edd2eed8 data-v-edd2eed8><div class="item" data-v-edd2eed8><div class="indicator" data-v-edd2eed8></div><a class="VPLink link link" href="/mianshi/docs/second-exam/react-usage.html" data-v-edd2eed8><!--[--><p class="text" data-v-edd2eed8>React 使用</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-edd2eed8 data-v-edd2eed8><div class="item" data-v-edd2eed8><div class="indicator" data-v-edd2eed8></div><a class="VPLink link link" href="/mianshi/docs/second-exam/react-inner.html" data-v-edd2eed8><!--[--><p class="text" data-v-edd2eed8>React 原理</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-edd2eed8 data-v-edd2eed8><div class="item" data-v-edd2eed8><div class="indicator" data-v-edd2eed8></div><a class="VPLink link link" href="/mianshi/docs/second-exam/mini-program.html" data-v-edd2eed8><!--[--><p class="text" data-v-edd2eed8>小程序</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-edd2eed8 data-v-edd2eed8><div class="item" data-v-edd2eed8><div class="indicator" data-v-edd2eed8></div><a class="VPLink link link" href="/mianshi/docs/second-exam/engineering.html" data-v-edd2eed8><!--[--><p class="text" data-v-edd2eed8>前端工程化</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-edd2eed8 data-v-edd2eed8><div class="item" data-v-edd2eed8><div class="indicator" data-v-edd2eed8></div><a class="VPLink link link" href="/mianshi/docs/second-exam/HarmonyOS-application-development.html" data-v-edd2eed8><!--[--><p class="text" data-v-edd2eed8>鸿蒙应用开发</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-edd2eed8 data-v-edd2eed8><div class="item" data-v-edd2eed8><div class="indicator" data-v-edd2eed8></div><a class="VPLink link link" href="/mianshi/docs/second-exam/nodejs.html" data-v-edd2eed8><!--[--><p class="text" data-v-edd2eed8>Nodejs</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0" data-v-51288d80 data-v-edd2eed8><div class="item" role="button" tabindex="0" data-v-edd2eed8><div class="indicator" data-v-edd2eed8></div><h2 class="text" data-v-edd2eed8>三面</h2><!----></div><div class="items" data-v-edd2eed8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-edd2eed8 data-v-edd2eed8><div class="item" data-v-edd2eed8><div class="indicator" data-v-edd2eed8></div><a class="VPLink link link" href="/mianshi/docs/third-exam/cross-test.html" data-v-edd2eed8><!--[--><p class="text" data-v-edd2eed8>交叉面试</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-edd2eed8 data-v-edd2eed8><div class="item" data-v-edd2eed8><div class="indicator" data-v-edd2eed8></div><a class="VPLink link link" href="/mianshi/docs/third-exam/project.html" data-v-edd2eed8><!--[--><p class="text" data-v-edd2eed8>项目难点/成绩</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-edd2eed8 data-v-edd2eed8><div class="item" data-v-edd2eed8><div class="indicator" data-v-edd2eed8></div><a class="VPLink link link" href="/mianshi/docs/third-exam/leader-test.html" data-v-edd2eed8><!--[--><p class="text" data-v-edd2eed8>前端 Leader 面试</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-edd2eed8 data-v-edd2eed8><div class="item" data-v-edd2eed8><div class="indicator" data-v-edd2eed8></div><a class="VPLink link link" href="/mianshi/docs/third-exam/ask-in-reply.html" data-v-edd2eed8><!--[--><p class="text" data-v-edd2eed8>反问面试官</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0" data-v-51288d80 data-v-edd2eed8><div class="item" role="button" tabindex="0" data-v-edd2eed8><div class="indicator" data-v-edd2eed8></div><h2 class="text" data-v-edd2eed8>HR 面</h2><!----></div><div class="items" data-v-edd2eed8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-edd2eed8 data-v-edd2eed8><div class="item" data-v-edd2eed8><div class="indicator" data-v-edd2eed8></div><a class="VPLink link link" href="/mianshi/docs/hr-exam/behavioural-test.html" data-v-edd2eed8><!--[--><p class="text" data-v-edd2eed8>行为面试</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-edd2eed8 data-v-edd2eed8><div class="item" data-v-edd2eed8><div class="indicator" data-v-edd2eed8></div><a class="VPLink link link" href="/mianshi/docs/hr-exam/salary.html" data-v-edd2eed8><!--[--><p class="text" data-v-edd2eed8>谈薪技巧</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0" data-v-51288d80 data-v-edd2eed8><div class="item" role="button" tabindex="0" data-v-edd2eed8><div class="indicator" data-v-edd2eed8></div><h2 class="text" data-v-edd2eed8>服务</h2><!----></div><div class="items" data-v-edd2eed8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-edd2eed8 data-v-edd2eed8><div class="item" data-v-edd2eed8><div class="indicator" data-v-edd2eed8></div><a class="VPLink link link" href="/mianshi/docs/services/group.html" data-v-edd2eed8><!--[--><p class="text" data-v-edd2eed8>加群讨论答疑</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-edd2eed8 data-v-edd2eed8><div class="item" data-v-edd2eed8><div class="indicator" data-v-edd2eed8></div><a class="VPLink link vp-external-link-icon link" href="https://github.com/mianshipai/mianshipai-web#%E8%B4%A1%E7%8C%AE%E9%A2%98%E7%9B%AE%E5%92%8C%E7%AD%94%E6%A1%88" target="_blank" rel="noreferrer" data-v-edd2eed8><!--[--><p class="text" data-v-edd2eed8>成为贡献者</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-edd2eed8 data-v-edd2eed8><div class="item" data-v-edd2eed8><div class="indicator" data-v-edd2eed8></div><a class="VPLink link link" href="/mianshi/docs/services/1v1.html" data-v-edd2eed8><!--[--><p class="text" data-v-edd2eed8>1v1 面试咨询 🔥</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-d8b57b2d data-v-9a6c75ad><div class="VPDoc has-sidebar has-aside" data-v-9a6c75ad data-v-e6f2a212><!--[--><!--]--><div class="container" data-v-e6f2a212><div class="aside" data-v-e6f2a212><div class="aside-curtain" data-v-e6f2a212></div><div class="aside-container" data-v-e6f2a212><div class="aside-content" data-v-e6f2a212><div class="VPDocAside" data-v-e6f2a212 data-v-cb998dce><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-cb998dce data-v-f610f197><div class="content" data-v-f610f197><div class="outline-marker" data-v-f610f197></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-f610f197>目录</div><ul class="VPDocOutlineItem root" data-v-f610f197 data-v-53c99d69><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-cb998dce></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-e6f2a212><div class="content-container" data-v-e6f2a212><!--[--><!--]--><main class="main" data-v-e6f2a212><div style="position:relative;" class="vp-doc _mianshi_docs_second-exam_vue-inner" data-v-e6f2a212><div><h1 id="vue-原理" tabindex="-1">Vue 原理 <a class="header-anchor" href="#vue-原理" aria-label="Permalink to &quot;Vue 原理&quot;">​</a></h1><p>国内面试，大厂必考原理。</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><ol><li>目标<strong>不在</strong>中大厂的同学，可以略过这一节。</li><li>对 Vue 使用尚不熟练的同学，不要在此花费太多精力，先熟悉使用再说。</li></ol></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>如有疑问，可免费 <a href="/mianshi/docs/services/group.html">加群</a> 讨论咨询，也可参与 <a href="/mianshi/docs/services/1v1.html">1v1 面试咨询服务</a>， 专业、系统、高效、全流程 准备前端面试</p></div><h2 id="什么是-mvvm" tabindex="-1">什么是 MVVM <a class="header-anchor" href="#什么是-mvvm" aria-label="Permalink to &quot;什么是 MVVM&quot;">​</a></h2><details class="details custom-block"><summary>参考答案</summary><p><strong>MVVM（Model-View-ViewModel）</strong> 是一种用于构建用户界面的架构模式，用于现代的前端开发框架（Vue、Angular）。它通过 <strong>数据绑定</strong> 和 <strong>视图模型</strong> 提供了高效的 UI 更新和数据同步机制。</p><p>MVVM 模式主要由 <code>Model</code> （模型）、 <code>View</code> （视图）、 <code>ViewModel</code> （视图模型）三个部分组成。</p><ul><li><code>Model</code>表示程序的核心数据和业务逻辑，它不关心用户界面，只负责数据的获取、存储和处理，并提供与外界交互的接口。</li><li><code>View</code>负责展示数据和用户交互，简单来说他就是我们看到的UI 组件或 HTML 页面。</li><li><code>ViewModel</code>是连接 <code>View</code> 和 <code>Model</code> 的桥梁，它不直接操作视图或模型，而是通过数据绑定将两者连接起来。</li></ul><p>参考下面的示例：</p><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;app&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;input v-model=&quot;message&quot;/&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;p&gt;{{ computedValue }}&lt;/p&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> message</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ref</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Hello, MVVM!&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> computedValue</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> computed</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;用户输入值变为:&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> message.value</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p>上述代码展示了一个输入框，当用户输入内容的时候，输入框下面的计算值会随之变化。在这个示例中， <code>message</code> 变量属于 <code>Model</code> ，它包含了应用的核心数据。输入框与页面展示就属于View，负责展示数据和用户交互。 <code>computed</code> 和 <code>v-model语法糖</code> 作为 <code>ViewModel</code> ，用于更新视图和数据。</p><p><img src="/mianshi/assets/mvvm.CBEg-I1x.png" alt=""></p></details><h2 id="什么是-vdom-它和-dom-有什么关系" tabindex="-1">什么是 VDOM 它和 DOM 有什么关系 <a class="header-anchor" href="#什么是-vdom-它和-dom-有什么关系" aria-label="Permalink to &quot;什么是 VDOM 它和 DOM 有什么关系&quot;">​</a></h2><details class="details custom-block"><summary>参考答案</summary><p>页面的所有元素、属性和文本都通过 <code>DOM</code> 节点表示， <code>VDOM（Virtual DOM，虚拟 DOM）</code> 是DOM渲染的一种优化，它是一个内存中的虚拟树，是真实 DOM 的轻量级 JavaScript 对象表示。</p><p>VDOM主要用于优化 UI 渲染性能，它的工作流程大致如下：</p><ul><li>1️⃣<strong>创建虚拟 DOM</strong>：当组件的状态或数据发生变化时，Vue 会重新生成虚拟 DOM。</li><li>2️⃣<strong>比较虚拟 DOM 和真实 DOM</strong>：Vue 使用一种高效的算法来比较新旧虚拟 DOM 的差异（即 diff 算法）。</li><li>3️⃣<strong>更新 DOM</strong>：根据差异更新真实的 DOM，仅修改有变化的部分，而不是重新渲染整个 DOM 树。</li></ul></details><h2 id="手写-vnode-对象-表示如下-dom-节点" tabindex="-1">手写 VNode 对象，表示如下 DOM 节点 <a class="header-anchor" href="#手写-vnode-对象-表示如下-dom-节点" aria-label="Permalink to &quot;手写 VNode 对象，表示如下 DOM 节点&quot;">​</a></h2><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;container&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">img</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> src</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;x1.png&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;hello&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><blockquote><p>如果你还不熟悉 <code>虚拟 DOM</code> 和 <code>渲染函数</code> 的概念的话，请先学习<a href="https://cn.vuejs.org/guide/extras/rendering-mechanism.html" target="_blank" rel="noreferrer">vue的渲染机制</a></p></blockquote><details class="details custom-block"><summary>参考答案</summary><p>Vue 模板会被预编译成<strong>虚拟 DOM 渲染函数</strong>，我们也可以直接手写<strong>渲染函数</strong>，在处理高度动态的逻辑时，渲染函数相比于模板更加灵活，因为我们可以完全地使用 <code>JavaScript</code> 来构造我们想要的 <code>vnode</code> 。</p><p>Vue 提供了一个 <code>h()</code> 函数用于创建 <code>vnodes</code></p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">h</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(type, props, children)</span></span></code></pre></div><ul><li><code>type</code>: 表示要渲染的节点类型（例如 HTML 标签名或组件）。</li><li><code>props</code>: 一个对象，包含该节点的属性（例如 <code>class</code>、<code>style</code>、<code>src</code> 等）。</li><li><code>children</code>: 子节点，可以是文本内容、数组或者其他 VNode。</li></ul><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { h } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vue&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  render</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> h</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &#39;div&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        class: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;container&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        h</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;img&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          src: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;x1.png&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }),</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        h</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;p&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;hello&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></details><h2 id="vue-组件初始化的各个阶段都做了什么" tabindex="-1">Vue 组件初始化的各个阶段都做了什么？ <a class="header-anchor" href="#vue-组件初始化的各个阶段都做了什么" aria-label="Permalink to &quot;Vue 组件初始化的各个阶段都做了什么？&quot;">​</a></h2><details class="details custom-block"><summary>参考答案</summary><p>从组件的创建到挂载到页面，再到组件的更新和销毁，每个阶段都有特定的任务和职责。</p><p>🎯 组件实例创建：当我们第一次访问页面时，Vue创建组件实例，解析<code>props</code>、<code>data</code>、<code>methods</code>等属性方法，在组合式API中，执行 <code>setup()</code>。</p><p>🎯 响应式系统建立：基于 <code>Proxy</code> 实现 <code>reactive</code>、<code>ref</code>，建立依赖收集和触发更新机制，<code>props</code> 传递时自动响应式处理。</p><p>🎯 模板编译与渲染：将 template 编译为渲染函数，Vue 3 通过 静态提升等方式优化性能，Vite 预编译 <code>SFC（单文件组件）</code>。</p><p>🎯 DOM 挂载：执行渲染函数生成 VNode，通过 <code>Patch 算法</code> 转换为真实 DOM 并插入页面，同时初始化子组件。<code>mounted（Options API</code>）或 <code>onMounted（Composition API）</code>触发，可进行 DOM 操作。</p><p>🎯 响应式更新：状态变更触发 <code>Diff</code> 算法 计算最小 DOM 更新，<code>beforeUpdate</code>、<code>updated（Options API）</code>或 <code>onBeforeUpdate</code>、<code>onUpdated（Composition API）</code>执行相应逻辑。</p><p>🎯 组件销毁：移除 DOM，清理副作用（解绑事件、销毁 <code>watcher</code>、清理 <code>effect</code>），递归卸载子组件，触发 <code>beforeUnmount</code>、<code>unmounted（Options API）</code>或 <code>onBeforeUnmount</code>、<code>onUnmounted（Composition API）</code>。</p><blockquote><p>Vue 3 通过 <code>Proxy</code> 响应式、编译优化、生命周期调整提升性能，使组件更高效。</p></blockquote></details><h2 id="vue-如何实现双向数据绑定" tabindex="-1">Vue 如何实现双向数据绑定 <a class="header-anchor" href="#vue-如何实现双向数据绑定" aria-label="Permalink to &quot;Vue 如何实现双向数据绑定&quot;">​</a></h2><details class="details custom-block"><summary>参考答案</summary><p>Vue 实现双向数据绑定的核心是通过<strong>响应式系统</strong>的 <strong>数据劫持</strong>和 <strong>观察者模式</strong>来实现的。</p><p>🎯 <strong>数据劫持</strong></p><p>Vue 2.x 使用 <code>Object.defineProperty</code> 对数据对象的每个属性递归添加 <code>getter/setter</code> ，当数据的属性被访问时，触发 <code>getter</code> ，当属性被修改时，触发 <code>setter</code> 通知视图进行更新。通过这种方式，Vue 可以监控数据的变化，并在数据变化时通知视图更新。</p><blockquote><p>Vue 3.x 使用 Proxy通过代理对象拦截整个对象的操作，无需递归初始化所有属性，性能更好。</p></blockquote><p>🎯 <strong>观察者模式</strong></p><p>Vue 的响应式系统通过 <strong>观察者模式</strong> 来实现数据与视图的同步更新，简化的流程如下：</p><ul><li><strong>依赖收集</strong>：当 Vue 组件的视图模板渲染时，它会读取数据对象的属性（例如 <code></code>）。在读取属性时，getter方法会将视图组件与该数据属性建立依赖关系。</li></ul><p><img src="/mianshi/assets/%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A1.n7P2Pvid.png" alt=""></p><ul><li><strong>观察者（Watcher）</strong>：每个依赖的数据都会对应一个观察者。观察者的作用是监听数据的变化，一旦数据发生变化，观察者会收到通知，进而触发视图的更新。</li></ul><p><img src="/mianshi/assets/%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A2.JPP2WdDZ.png" alt=""></p><ul><li><strong>通知视图更新（Notify View Update）</strong>：当数据通过 <code>setter</code> 修改时，Vue 会触发相应的观察者，通知相关的视图组件更新。</li></ul><p><img src="/mianshi/assets/%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A3.Ci3ExrQr.png" alt=""></p><p>通过这种方式，Vue 可以监控数据的变化，并在数据变化时通知视图更新。</p></details><h2 id="vue-模板编译的过程" tabindex="-1">Vue 模板编译的过程 <a class="header-anchor" href="#vue-模板编译的过程" aria-label="Permalink to &quot;Vue 模板编译的过程&quot;">​</a></h2><details class="details custom-block"><summary>参考答案</summary><p>Vue 的模板编译过程是将开发者编写的模板语法（例如 <code></code> 和 <code>v-bind</code> 等）转换为 JavaScript 代码的过程。它主要分为三个阶段：<strong>模板解析</strong>、<strong>AST优化</strong> 和 <strong>代码生成</strong>：</p><p>1️⃣ <strong>模板解析</strong></p><p>Vue 使用其解析器将 HTML 模板转换为 <strong>抽象语法树（AST）</strong>。在这个阶段，Vue 会分析模板中的标签、属性和指令，生成一颗树形结构。每个节点表示模板中的一个元素或属性。</p><p>如：</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt; </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    p &gt; {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            message</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    } &lt; /p&gt; &lt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">button v - on: click = &quot;handleClick&quot; &gt; 点击 &lt; /button&gt; &lt; /</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">div &gt;</span></span></code></pre></div><p>被解析成的 AST 类似于下面的结构：</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 节点类型：1 表示元素节点</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    tag</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;div&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 元素的标签名</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    children</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [ </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 子节点（嵌套的 HTML 元素）</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            type: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 子节点是一个元素节点</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            tag: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;p&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            children: [{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                type: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 2 表示插值表达式节点</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                expression: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;message&#39;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 表达式 &#39;message&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            }]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            type: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 另一个元素节点</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            tag: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;button&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            events: { </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 事件监听</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                click: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;handleClick&#39;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 绑定 click 事件，执行 handleClick 方法</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            children: [{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                type: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 文本节点</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                text: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;点击&#39;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 按钮文本</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            }]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>2️⃣ <strong>AST优化</strong></p><p>Vue 在生成渲染函数前，会对 AST 进行优化。优化的核心目标是标记 <strong>静态节点</strong>，在渲染时，Vue 可以跳过这些静态节点，提升性能。</p><blockquote><p><strong>静态节点</strong>指所有的渲染过程中都不变化的内容，比如 <code>某个div标签内的静态文本</code></p></blockquote><p>在 <code>vue3</code> 中，如果一个节点及其子树都不依赖于动态数据，那么该节点会被提升到渲染函数外部（静态提升），仅在组件初次渲染时创建。</p><p>3️⃣ <strong>代码生成</strong></p><p>生成渲染函数是编译的最终阶段，这个阶段会将优化后的 AST 转换成 JavaScript 渲染函数。</p><p>例如，像这样的模板：</p><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;app&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;{{ message }}&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p>最终会生成类似这样的渲染函数：</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> render</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createVNode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;div&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      id: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;app&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createTextVNode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.message)]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>渲染函数的返回值是一个 <code>虚拟 DOM（VDOM）树</code> ，Vue 会根据 <code>虚拟 DOM</code> 来更新实际的 <code>DOM</code> 。由于 <code>渲染函数</code> 被 Vue 的响应式系统包裹，当数据发生变化时，渲染函数会被重新执行生成新的虚拟 DOM，因此页面也会实时更新。</p></details><h2 id="vue-响应式原理" tabindex="-1">Vue 响应式原理 <a class="header-anchor" href="#vue-响应式原理" aria-label="Permalink to &quot;Vue 响应式原理&quot;">​</a></h2><details class="details custom-block"><summary>参考答案</summary><p>Vue 的响应式原理在 2.x 和 3.x 中有所不同，分别基于 <code>Object.defineProperty</code> 和 <code>Proxy</code> 实现。</p><p>🎯 <strong>Vue 2.x 的实现 ( <code>Object.defineProperty</code> )</strong></p><p><code>Object.defineProperty</code> 支持 IE9 及以上版本，兼容性非常好。它会递归遍历对象，对每个属性单独设置 <code>getter</code> 和 <code>setter</code> ，但也存在以下局限性：</p><ul><li><strong>无法监听动态属性增删</strong> Vue 2.x 在新增或删除对象属性时不会触发视图更新，需通过 <code>Vue.set</code> 或 <code>Vue.delete</code> 手动处理。</li><li><strong>数组监听受限</strong> 无法直接监听数组索引的修改（如 <code>arr[0] = 1</code> ）和 <code>length</code> 变化，因此 Vue 2.x 重写了数组的一些方法来解决这一问题。</li><li><strong>性能开销较大</strong> 需要递归地为每个属性设置 <code>getter</code> 和 <code>setter</code> ，对深层嵌套的对象和大型数组性能较差。</li><li><strong>不支持 Map/Set 等数据结构</strong> 只能代理普通对象和数组，不能处理像 <code>Map</code> 、 <code>Set</code> 等复杂数据结构。</li></ul><p>🚀 <strong>Vue 3.x 的实现 ( <code>Proxy</code> )</strong></p><p>为了解决 Vue 2.x 中的这些问题，Vue 3.x 采用了 <code>Proxy</code> ，带来了更优的性能和更全面的响应式支持：</p><ul><li><strong>动态属性增删支持</strong><code>Proxy</code> 可以直接代理整个对象，因此可以监听属性的动态增删，不再需要手动操作。</li><li><strong>完美支持数组和索引修改</strong><code>Proxy</code> 能够监听数组索引的修改（如 <code>arr[0] = 1</code> ）以及 <code>length</code> 变化，避免了 Vue 2.x 中的重写数组方法。</li><li><strong>性能更优</strong><code>Proxy</code> 采用懒代理模式，只有在访问属性时才会递归代理子对象，避免了递归遍历的性能开销。</li><li><strong>支持更多数据结构</strong> 除了普通对象和数组， <code>Proxy</code> 还可以代理 <code>Map</code> 、 <code>Set</code> 等数据结构，提供了更强大的响应式能力。</li></ul><table tabindex="0"><thead><tr><th>特性</th><th><code>Object.defineProperty</code> <br>（Vue 2）</th><th><code>Proxy</code> <br>（Vue 3）</th></tr></thead><tbody><tr><td>动态属性增删</td><td>❌ 不支持（需 <code>Vue.set</code> / <code>Vue.delete</code> ）</td><td>✅ 支持</td></tr><tr><td>数组索引修改</td><td>❌ 需重写方法（如 <code>push</code> ）</td><td>✅ 直接监听</td></tr><tr><td>性能</td><td>⚠️ 递归初始化所有属性，性能较差</td><td>✅ 惰性代理，按需触发，性能更优</td></tr><tr><td>数据结构支持</td><td>❌ 仅普通对象/数组</td><td>✅ 支持 <code>Map</code> 、 <code>Set</code> 等</td></tr><tr><td>兼容性</td><td>✅ 支持 IE9+</td><td>❌ 不支持 IE</td></tr><tr><td>实现复杂度</td><td>⚠️ 需递归遍历对象，代码冗余</td><td>✅ 统一拦截，代码简洁</td></tr></tbody></table></details><h2 id="为何-v-for-需要使用-key" tabindex="-1">为何 v-for 需要使用 key <a class="header-anchor" href="#为何-v-for-需要使用-key" aria-label="Permalink to &quot;为何 v-for 需要使用 key&quot;">​</a></h2><details class="details custom-block"><summary>参考答案</summary><p>在 Vue.js 中，使用 <code>v-for</code> 渲染列表时，添加 key 属性是一个重要的最佳实践。</p><ul><li><strong>提高性能</strong>：当 Vue 更新视图时，它会根据 <code>key</code> 来识别哪些元素被修改、添加或移除。如果没有 <code>key</code>，Vue 会依赖其默认的算法（基于元素的位置）来比较元素，这样可能导致不必要的 DOM 操作。使用 <code>key</code> 后，Vue 能精确地找到每个项，从而减少不必要的 DOM 重排和重绘，提升性能。</li><li><strong>保持组件状态</strong>：如果渲染的是一个组件（而不是普通的 DOM 元素），使用 <code>key</code> 可以确保组件在渲染更新时保持正确的状态。例如，如果列表中有表单输入框，每个输入框都有自己的状态，使用 <code>key</code> 可以确保输入框状态不会因列表排序或元素移除而丢失。</li><li><strong>避免渲染错误</strong>：key 的存在可以帮助 Vue 确保在列表更新时，元素的顺序和内容保持稳定，避免出现不稳定的渲染或顺序错乱。</li></ul></details><h2 id="vue-diff-算法的过程" tabindex="-1">Vue diff 算法的过程 <a class="header-anchor" href="#vue-diff-算法的过程" aria-label="Permalink to &quot;Vue diff 算法的过程&quot;">​</a></h2><details class="details custom-block"><summary>参考答案</summary><p>Vue的diff算法执行，依赖数据的的响应式系统：当数据发生改变时， <code>setter</code> 方法会让调用 <code>Dep.notify</code> 通知所有订阅者 <code>Watcher</code> ，订阅者会重新执行渲染函数，渲染函数内部通过diff 算法用于比较新旧虚拟 DOM 树的差异，并计算出最小的更新操作，最终更新相应的视图。</p><p><img src="/mianshi/assets/render.TcoPi1QS.png" alt=""></p><p>diff 算法的核心算法流程如下：</p><ul><li>节点对比 如果新旧节点类型相同，则继续比较它们的属性。如果节点类型不同（如元素和文本节点不同），则直接<strong>替换</strong>整个节点。</li><li>属性更新： 如果节点类型相同，接下来检查节点的属性。对于不同的属性值进行更新，移除旧属性，添加新属性。</li><li>子节点比对： 对于有子节点的元素（如 div），Vue 会使用不同的策略来优化子节点更新： 🎯 文本节点的更新：如果新旧子节点都是文本节点，直接更新文本内容。 🎯 数组类型子节点的比对：如果新旧子节点都是数组，Vue 会通过 <code>LIS 算法</code> 来优化节点的重新排列，避免过多的 DOM 操作。</li></ul><p><img src="/mianshi/assets/diff.8tBRBXmM.png" alt=""></p></details><h2 id="vue3-diff-算法做了哪些优化" tabindex="-1">Vue3 diff 算法做了哪些优化？ <a class="header-anchor" href="#vue3-diff-算法做了哪些优化" aria-label="Permalink to &quot;Vue3 diff 算法做了哪些优化？&quot;">​</a></h2><details class="details custom-block"><summary>参考答案</summary><ul><li>静态标记与动态节点的区分 Vue3引入了 <code>静态标记（Static Marking）</code> 机制，通过在模板编译阶段为静态节点添加标记，避免了对这些节点的重复比较。这使得Vue3能够更高效地处理静态内容，减少不必要的DOM操作。</li><li>双端对比策略 Vue3的Diff算法采用了双端对比策略，即从新旧节点的头部和尾部同时开始比较，快速定位无序部分。这种策略显著减少了全量对比的复杂度，提升了性能。</li><li>最长递增子序列（LIS）优化 在处理节点更新时，Vue3利用最长递增子序列（LIS）算法来优化对比流程。通过找到新旧节点之间的最长递增子序列，Vue3可以减少不必要的DOM操作，从而提高更新效率。</li><li>事件缓存与静态提升 事件缓存：Vue3将事件缓存为静态节点，避免每次渲染时重新计算事件处理逻辑，从而减少性能开销。 静态提升：对于不参与更新的元素，Vue3将其提升为静态节点，仅在首次创建时进行处理，后续不再重复计算。</li><li>类型检查与属性对比 Vue3在Diff算法中增加了类型检查和属性对比功能。如果节点类型不同，则直接替换；如果类型相同，则进一步对比节点的属性，生成更新操作。</li><li>动态插槽的优化 Vue3对动态插槽进行了优化，通过动态节点的类型化处理，进一步提升了Diff算法的效率</li></ul></details><h2 id="vue-diff-算法和-react-diff-算法的区别" tabindex="-1">Vue diff 算法和 React diff 算法的区别 <a class="header-anchor" href="#vue-diff-算法和-react-diff-算法的区别" aria-label="Permalink to &quot;Vue diff 算法和 React diff 算法的区别&quot;">​</a></h2><details class="details custom-block"><summary>Details</summary><p>Vue 和 React 的 Diff 算法均基于虚拟 DOM，但在 <code>实现策略</code> 、 <code>优化手段</code> 和 <code>设计哲学</code> 上存在显著差异：</p><p><strong>1. 核心算法策略对比</strong></p><table tabindex="0"><thead><tr><th><strong>维度</strong></th><th><strong>React</strong></th><th><strong>Vue 2/3</strong></th></tr></thead><tbody><tr><td><strong>遍历方式</strong></td><td>单向递归（同层顺序对比）</td><td>双端对比（头尾指针优化）</td></tr><tr><td><strong>节点复用</strong></td><td>类型相同则复用，否则销毁重建</td><td>类型相同则尝试复用，优先移动而非重建</td></tr><tr><td><strong>静态优化</strong></td><td>需手动优化（如 <code>React.memo</code> ）</td><td>编译阶段自动标记静态节点</td></tr><tr><td><strong>更新粒度</strong></td><td>组件级更新（默认）</td><td>组件级 + 块级（Vue3 Fragments）</td></tr></tbody></table><p><strong>2. 列表 Diff 实现细节</strong></p><p><strong>a. React 的索引对比策略</strong></p><ul><li><strong>无 key 时</strong>：按索引顺序对比，可能导致无效更新</li></ul><div class="language-jsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 旧列表：[A, B, C]</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 新列表：[D, A, B, C]（插入头部）</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// React 对比结果：更新索引 0-3，性能低下</span></span></code></pre></div><ul><li><strong>有 key 时</strong>：通过 key 匹配节点，减少移动操作</li></ul><div class="language-jsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// key 匹配后，仅插入 D，其他节点不更新</span></span></code></pre></div><p><strong>b. Vue 的双端对比策略</strong></p><p>分四步优化对比效率（Vue2 核心逻辑，Vue3 优化为最长递增子序列）：</p><ol><li><strong>头头对比</strong>：新旧头指针节点相同则复用，指针后移</li><li><strong>尾尾对比</strong>：新旧尾指针节点相同则复用，指针前移</li><li><strong>头尾交叉对比</strong>：旧头 vs 新尾，旧尾 vs 新头</li><li><strong>中间乱序对比</strong>：建立 key-index 映射表，复用可匹配节点</li></ol><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 旧列表：[A, B, C, D]</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 新列表：[D, A, B, C]</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Vue 通过步骤3头尾对比，仅移动 D 到头部</span></span></code></pre></div><p><strong>3. 静态优化机制</strong></p><p><strong>a. Vue 的编译时优化</strong></p><ul><li><strong>静态节点标记</strong>： 模板中的静态节点（无响应式绑定）会被编译为常量，跳过 Diff</li></ul><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">&lt;!-- 编译前 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Hello Vue&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">&lt;!-- 编译后 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">_hoisted_1 = createVNode(&quot;div&quot;, null, &quot;Hello Vue&quot;)</span></span></code></pre></div><ul><li><strong>Block Tree（Vue3）</strong>： 动态节点按区块（Block）组织，Diff 时仅对比动态部分</li></ul><p><strong>b. React 的运行时优化</strong></p><ul><li><strong>手动控制更新</strong>： 需通过 <code>React.memo</code> 、 <code>shouldComponentUpdate</code> 或 <code>useMemo</code> 避免无效渲染</li></ul><div class="language-jsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> MemoComp</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> React.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">memo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Static Content&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;)</span></span></code></pre></div><p><strong>4. 响应式更新触发</strong></p><table tabindex="0"><thead><tr><th><strong>框架</strong></th><th><strong>机制</strong></th><th><strong>Diff 触发条件</strong></th></tr></thead><tbody><tr><td>React</td><td>状态变化触发组件重新渲染</td><td>父组件渲染 → 子组件默认递归 Diff</td></tr><tr><td>Vue</td><td>响应式数据变更触发组件更新</td><td>依赖收集 → 仅受影响组件触发 Diff</td></tr></tbody></table><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Vue：只有 data.value 变化才会触发更新</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> vm</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Vue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  data: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    value: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// React：需显式调用 setState</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">setValue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useState</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p><strong>5. 设计哲学差异</strong></p><table tabindex="0"><thead><tr><th><strong>维度</strong></th><th><strong>React</strong></th><th><strong>Vue</strong></th></tr></thead><tbody><tr><td><strong>控制粒度</strong></td><td>组件级控制（开发者主导）</td><td>细粒度依赖追踪（框架主导）</td></tr><tr><td><strong>优化方向</strong></td><td>运行时优化（Fiber 调度）</td><td>编译时优化（模板静态分析）</td></tr><tr><td><strong>适用场景</strong></td><td>大型动态应用（需精细控制）</td><td>中小型应用（快速开发）</td></tr></tbody></table></details><h2 id="简述-vue-组件异步更新的过程" tabindex="-1">简述 Vue 组件异步更新的过程 <a class="header-anchor" href="#简述-vue-组件异步更新的过程" aria-label="Permalink to &quot;简述 Vue 组件异步更新的过程&quot;">​</a></h2><p>参考答案</p><details class="details custom-block"><summary>Details</summary><p>Vue 组件的异步更新过程是其响应式系统的核心机制，主要通过 <strong>批量更新</strong> 和 <strong>事件循环</strong> 实现高效渲染，具体流程如下：</p><p><strong>一、触发阶段：依赖收集与变更通知</strong></p><ol><li><p><strong>数据变更</strong> 当组件内响应式数据（如 <code>data</code> 、 <code>props</code> ）被修改时，触发 <code>setter</code> 通知依赖（Watcher）。</p></li><li><p><strong>Watcher 入队</strong> 所有关联的 Watcher 会被推入 <strong>异步更新队列</strong>（ <code>queueWatcher</code> ），Vue 通过 <code>id</code> 去重，确保每个 Watcher 仅入队一次，避免重复更新。</p></li></ol><p><strong>二、调度阶段：异步队列处理</strong> 3. <strong>异步执行</strong> Vue 将队列刷新任务放入微任务队列（优先 <code>Promise.then</code> ，降级 <code>setImmediate</code> 或 <code>setTimeout</code> ），等待当前同步代码执行完毕后处理。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 伪代码：nextTick 实现</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> timerFunc</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(flushQueue)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (MutationObserver) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    /* 使用 MO */</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    setTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(flushQueue, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><ol start="4"><li><strong>合并更新</strong> 同一事件循环中的多次数据变更会被合并为一次组件更新（如循环中修改数据 100 次，仅触发 1 次渲染）。</li></ol><p><strong>三、执行阶段：虚拟 DOM 与 DOM 更新</strong> 5. <strong>组件重新渲染</strong> 执行队列中的 Watcher 更新函数，触发组件的 <code>render</code> 生成新虚拟 DOM（VNode）。</p><ol start="6"><li><strong>Diff 与 Patch</strong> 通过 <strong>Diff 算法</strong> 对比新旧 VNode，计算出最小化 DOM 操作，批量更新真实 DOM。</li></ol><p><strong>四、核心优势</strong></p><ul><li><strong>性能优化</strong>：避免频繁 DOM 操作，减少重排/重绘。</li><li><strong>数据一致性</strong>：确保在同一事件循环中的所有数据变更后，视图一次性更新到最终状态。</li><li><strong>开发者友好</strong>：通过 <code>Vue.nextTick(callback)</code> 在 DOM 更新后执行逻辑。</li></ul><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      count: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  methods: {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    handleClick</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.count</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">++</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // Watcher 入队</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.count</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">++</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 去重，仍只一个 Watcher</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$nextTick</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;DOM已更新:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.$el.textContent)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>点击事件中两次修改 <code>count</code> ，但 DOM 仅更新一次， <code>nextTick</code> 回调能获取最新 DOM 状态。</p><p><strong>总结流程图</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>数据变更 → Watcher 入队 → 微任务队列 → 批量执行 Watcher → 生成 VNode → Diff/Patch → DOM 更新</span></span></code></pre></div><p>通过异步更新机制，Vue 在保证性能的同时，实现了数据驱动视图的高效响应。</p></details><p>参考资料</p><details class="details custom-block"><summary>Details</summary><ul><li><a href="https://juejin.cn/post/7054488305659805727" target="_blank" rel="noreferrer">https://juejin.cn/post/7054488305659805727</a></li></ul></details><h2 id="vue-组件是如何渲染和更新的" tabindex="-1">Vue 组件是如何渲染和更新的 <a class="header-anchor" href="#vue-组件是如何渲染和更新的" aria-label="Permalink to &quot;Vue 组件是如何渲染和更新的&quot;">​</a></h2><details class="details custom-block"><summary>参考答案</summary><p>Vue 组件的渲染和更新过程涉及从 <code>模板编译</code> 到 <code>虚拟 DOM</code> 的<strong>构建</strong>、<strong>更新</strong>和最终的实际 DOM 更新。下面是 Vue 组件渲染和更新的主要步骤：</p><p>1️⃣ 组件渲染过程 Vue 的组件的渲染过程核心是其<a href="./vue-inner/#vue-模板编译的过程">模板编译</a>过程，大致流程如下： 首先，Vue会通过其响应式系统完成组件的 <code>data、computed 和 props</code> 等数据和模板的绑定，这个过程Vue 会利用 <code>Object.defineProperty（Vue2）</code> 或 <code>Proxy（Vue3）</code> 来追踪数据的依赖，保证数据变化时，视图能够重新渲染。随后，Vue会将模板编译成渲染函数，这个渲染函数会在每次更新时被调用，从而生成虚拟 DOM。 最终，虚拟DOM被渲染成真实的 DOM 并插入到页面中，组件渲染完成，组件渲染的过程中，Vue 会依次触发相关的生命周期钩子。</p><p>2️⃣ 组件更新过程 当组件的状态（如 data、props、computed）发生变化时，响应式数据的 <code>setter</code> 方法会让调用Dep.notify通知所有 <code>订阅者Watcher</code> ，重新执行渲染函数触发更新。</p><p><img src="/mianshi/assets/%E6%A8%A1%E6%9D%BF%E7%BC%96%E8%AF%91.xbq7db3C.png" alt=""></p><p>渲染函数在执行时，会使用 diff 算法（例如：双端对比、静态标记优化等）生成新的虚拟DOM。计算出需要更新的部分后（插入、删除或更新 DOM），然后对实际 DOM 进行最小化的更新。在组件更新的过程中，Vue 会依次触发beforeUpdate、updated等相关的生命周期钩子。</p></details><h2 id="如何实现-keep-alive-缓存机制" tabindex="-1">如何实现 keep-alive 缓存机制 <a class="header-anchor" href="#如何实现-keep-alive-缓存机制" aria-label="Permalink to &quot;如何实现 keep-alive 缓存机制&quot;">​</a></h2><details class="details custom-block"><summary>参考答案</summary><p><code>keep-alive</code> 是 Vue 提供的一个内置组件，用来缓存组件的状态，避免在切换组件时重新渲染和销毁，从而提高性能。</p><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">keep-alive</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">component</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> :is</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;currentComponent&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">keep-alive</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p>Vue 3 的 keep-alive 的缓存机制原理如下：</p><ul><li>缓存池：keep-alive 内部使用一个 Map 存储已渲染的组件实例，键通常是组件的 key（或 name）。</li><li>激活与挂起：如果组件切换时已经缓存，直接复用缓存的组件实例；如果组件未缓存，则渲染并缓存新的组件实例。 此外，keep-alive 还会激活特殊的钩子函数：</li><li>当组件被缓存时，会触发 deactivated 钩子。</li><li>当组件从缓存中恢复时，会触发 activated 钩子。</li></ul><p>一个简单的实现如下：</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> KeepAliveImpl</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;KeepAlive&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 已缓存的组件实例。</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  _cache: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  _activeCache: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  render</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> vnode</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.$slots.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 获取动态组件的 vnode</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> vnode.key </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">||</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> vnode.type.name</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">._cache.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">has</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(key)) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> cachedVnode</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">._cache.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(key)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">._activeCache.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(key, cachedVnode)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> cachedVnode</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> vnode </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 未缓存，直接渲染</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  mounted</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.$vnode.key</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">._cache.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">has</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(key)) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">._cache.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(key, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.$vnode)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  beforeDestroy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.$vnode.key</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">._cache.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">delete</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(key)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></details><h2 id="为何-ref-需要-value-属性" tabindex="-1">为何 ref 需要 value 属性 <a class="header-anchor" href="#为何-ref-需要-value-属性" aria-label="Permalink to &quot;为何 ref 需要 value 属性&quot;">​</a></h2><details class="details custom-block"><summary>参考答案</summary><p>Vue 3 中， <code>ref</code> 之所以需要 <code>.value</code> 属性，主要是因为 Vue 3 使用 <code>Proxy</code> 实现响应式。 <code>Proxy</code> 对对象或数组的每个属性进行深度代理，因此可以追踪嵌套属性的变化。而 <code>Proxy</code> 无法直接处理基本数据类型（如 <code>number</code> 、 <code>string</code> 、 <code>boolean</code> ），这使得 <code>reactive</code> 无法用于基本数据类型。为了实现基本数据类型的响应式，Vue 设计了 <code>ref</code> ，它将基本数据类型封装为一个包含 <code>value</code> 属性的对象，并通过 <code>getter</code> 和 <code>setter</code> 进行依赖追踪和更新。当访问或修改 <code>ref.value</code> 时，Vue 会触发依赖更新。</p></details></div></div></main><footer class="VPDocFooter" data-v-e6f2a212 data-v-1bcd8184><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-1bcd8184><span class="visually-hidden" id="doc-footer-aria-label" data-v-1bcd8184>Pager</span><div class="pager" data-v-1bcd8184><a class="VPLink link pager-link prev" href="/mianshi/docs/second-exam/vue-usage.html" data-v-1bcd8184><!--[--><span class="desc" data-v-1bcd8184>Previous page</span><span class="title" data-v-1bcd8184>Vue 使用</span><!--]--></a></div><div class="pager" data-v-1bcd8184><a class="VPLink link pager-link next" href="/mianshi/docs/second-exam/react-usage.html" data-v-1bcd8184><!--[--><span class="desc" data-v-1bcd8184>Next page</span><span class="title" data-v-1bcd8184>React 使用</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-d8b57b2d data-v-566314d4><div class="container" data-v-566314d4><p class="message" data-v-566314d4><a href="https://www.wangeditor.com/" target="_blank">wangEditor</a> | <a href="https://www.huashuiai.com/" target="_blank">划水AI</a> | <a href="https://github.com/mianshipai/mianshipai-web/issues" target="_blank">提交问题和建议</a></p><p class="copyright" data-v-566314d4>Copyright © 2025-present Mianshipai 面试派</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"docs_api-examples.md\":\"CbBCwYff\",\"docs_before-interview_jd.md\":\"JjXPSTig\",\"docs_before-interview_post-resume.md\":\"N1ORZKtY\",\"docs_before-interview_process.md\":\"ClDuroLf\",\"docs_before-interview_write-resume.md\":\"B7f8950f\",\"docs_first-exam_computerbase.md\":\"CFP_fwLc\",\"docs_first-exam_html-css.md\":\"2YZ_vM4a\",\"docs_first-exam_http.md\":\"BhXG3GSH\",\"docs_first-exam_js.md\":\"DVVBo0d1\",\"docs_first-exam_ts.md\":\"CTPNKixn\",\"docs_hr-exam_behavioural-test.md\":\"Cgo3ajxS\",\"docs_hr-exam_salary.md\":\"Dl-c2lIu\",\"docs_markdown-examples.md\":\"CbnQUDGs\",\"docs_second-exam_engineering.md\":\"BbCJXkDU\",\"docs_second-exam_harmonyos-application-development.md\":\"BLRNbMYF\",\"docs_second-exam_mini-program.md\":\"BShHunQy\",\"docs_second-exam_nodejs.md\":\"BAstcvy6\",\"docs_second-exam_react-inner.md\":\"DMnU0yeD\",\"docs_second-exam_react-usage.md\":\"BZ4N_fK_\",\"docs_second-exam_vue-inner.md\":\"CV2Ezh75\",\"docs_second-exam_vue-usage.md\":\"BpsTBe6A\",\"docs_services_1v1.md\":\"DsdsJ3A1\",\"docs_services_group.md\":\"Dg-481AC\",\"docs_third-exam_ask-in-reply.md\":\"DdqCL-XK\",\"docs_third-exam_cross-test.md\":\"BwdlCMxp\",\"docs_third-exam_leader-test.md\":\"B5WS8Qlj\",\"docs_third-exam_project.md\":\"qZHwZ0m3\",\"docs_third-exam_system-design.md\":\"B2gdR2QA\",\"docs_written-exam_algorithm.md\":\"wKZNBXTX\",\"docs_written-exam_js-reading.md\":\"CuAzwbNF\",\"docs_written-exam_js-writing.md\":\"DdcBlQUx\",\"index.md\":\"DJoDmDOg\",\"readme.en.md\":\"CJK-H64S\",\"readme.md\":\"60kbotTR\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"zh-CN\",\"dir\":\"ltr\",\"title\":\"前端面试派\",\"description\":\"系统专业的前端面试导航，大厂面试规范，开源免费\",\"base\":\"/mianshi/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"1v1 面试咨询 🔥\",\"link\":\"/docs/services/1v1.md\"},{\"text\":\"加群讨论答疑\",\"link\":\"/docs/services/group.md\"},{\"text\":\"成为贡献者\",\"link\":\"https://github.com/mianshipai/mianshipai-web#%E8%B4%A1%E7%8C%AE%E9%A2%98%E7%9B%AE%E5%92%8C%E7%AD%94%E6%A1%88\"}],\"search\":{\"provider\":\"local\"},\"outline\":{\"level\":[2,3],\"label\":\"目录\"},\"sidebar\":[{\"text\":\"面试准备\",\"items\":[{\"text\":\"了解面试流程\",\"link\":\"/docs/before-interview/process.md\"},{\"text\":\"分析 JD 招聘要求\",\"link\":\"/docs/before-interview/jd.md\"},{\"text\":\"正确写简历\",\"link\":\"/docs/before-interview/write-resume.md\"},{\"text\":\"如何投递简历\",\"link\":\"/docs/before-interview/post-resume.md\"}]},{\"text\":\"笔试\",\"items\":[{\"text\":\"数据结构和算法\",\"link\":\"/docs/written-exam/algorithm\"},{\"text\":\"JS 手写代码\",\"link\":\"/docs/written-exam/JS-writing\"},{\"text\":\"JS 读代码\",\"link\":\"/docs/written-exam/JS-reading\"}]},{\"text\":\"一面\",\"items\":[{\"text\":\"计算机基础\",\"link\":\"/docs/first-exam/ComputerBase.md\"},{\"text\":\"HTML 和 CSS\",\"link\":\"/docs/first-exam/HTML-CSS.md\"},{\"text\":\"JS 基础知识\",\"link\":\"/docs/first-exam/JS\"},{\"text\":\"TS 类型\",\"link\":\"/docs/first-exam/TS\"},{\"text\":\"HTTP 网络请求\",\"link\":\"/docs/first-exam/HTTP.md\"}]},{\"text\":\"二面\",\"items\":[{\"text\":\"Vue 使用\",\"link\":\"/docs/second-exam/vue-usage.md\"},{\"text\":\"Vue 原理\",\"link\":\"/docs/second-exam/vue-inner.md\"},{\"text\":\"React 使用\",\"link\":\"/docs/second-exam/react-usage.md\"},{\"text\":\"React 原理\",\"link\":\"/docs/second-exam/react-inner.md\"},{\"text\":\"小程序\",\"link\":\"/docs/second-exam/mini-program.md\"},{\"text\":\"前端工程化\",\"link\":\"/docs/second-exam/engineering.md\"},{\"text\":\"鸿蒙应用开发\",\"link\":\"/docs/second-exam/HarmonyOS-application-development.md\"},{\"text\":\"Nodejs\",\"link\":\"/docs/second-exam/nodejs.md\"}]},{\"text\":\"三面\",\"items\":[{\"text\":\"交叉面试\",\"link\":\"/docs/third-exam/cross-test.md\"},{\"text\":\"项目难点/成绩\",\"link\":\"/docs/third-exam/project.md\"},{\"text\":\"前端 Leader 面试\",\"link\":\"/docs/third-exam/leader-test.md\"},{\"text\":\"反问面试官\",\"link\":\"/docs/third-exam/ask-in-reply.md\"}]},{\"text\":\"HR 面\",\"items\":[{\"text\":\"行为面试\",\"link\":\"/docs/hr-exam/behavioural-test.md\"},{\"text\":\"谈薪技巧\",\"link\":\"/docs/hr-exam/salary.md\"}]},{\"text\":\"服务\",\"items\":[{\"text\":\"加群讨论答疑\",\"link\":\"/docs/services/group.md\"},{\"text\":\"成为贡献者\",\"link\":\"https://github.com/mianshipai/mianshipai-web#%E8%B4%A1%E7%8C%AE%E9%A2%98%E7%9B%AE%E5%92%8C%E7%AD%94%E6%A1%88\"},{\"text\":\"1v1 面试咨询 🔥\",\"link\":\"/docs/services/1v1.md\"}]}],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/mianshipai/mianshipai-web\"}],\"footer\":{\"message\":\"<a href=\\\"https://www.wangeditor.com/\\\" target=\\\"_blank\\\">wangEditor</a> | <a href=\\\"https://www.huashuiai.com/\\\" target=\\\"_blank\\\">划水AI</a> | <a href=\\\"https://github.com/mianshipai/mianshipai-web/issues\\\" target=\\\"_blank\\\">提交问题和建议</a>\",\"copyright\":\"Copyright © 2025-present Mianshipai 面试派\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>